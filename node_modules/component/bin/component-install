#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander')
  , component = require('..');

// options

program
  .option('-o, --out <dir>', 'output components to the given <dir>')
  .option('-f, --force', 'force installation even if previously installed')

// parse argv

program.parse(process.argv);

// install

program.args.forEach(function(pkg){
  var parts = pkg.split('@');
  pkg = parts.shift();
  var version = parts.shift() || 'master';
  pkg = component.install(pkg, version, { dest: program.out, force: program.force });
  component.terse(pkg);
  pkg.install();
});

